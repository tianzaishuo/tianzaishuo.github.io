<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>初始化地图</title>
		<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
		<script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
		<link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
		<style>
			body {
				margin: 0;
				padding: 0;
			}

			#map {
				position: absolute;
				top: 0;
				bottom: 0;
				width: 100%;
			}
		</style>
	</head>
	<body>
		<div id="map"></div>
		<script>
			var map = new maplibregl.Map({
				container: 'map',
				style: 'https://demotiles.maplibre.org/style.json',
				center: [-74.5, 40],
				zoom: 8
			});

			axios.get('./geojson.json').then((res) => {
				let geoJson = res.data
				map.on('load', function() {
					map.addSource('maine', {
						'type': 'geojson',
						'data': geoJson
					});
					map.addLayer({
						'id': 'maine',
						'type': 'fill',
						'source': 'maine',
						'paint': {
							'fill-color': '#088',
							'fill-opacity': 0.5
						}
					});
				});
			})
		</script>

	</body>
</html>